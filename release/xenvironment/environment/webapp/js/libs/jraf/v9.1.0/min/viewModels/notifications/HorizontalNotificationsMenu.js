define(["jquery","ojs/ojcore","jraf/jrafcore","jraf/models/UIShellManager","jrafViewModels/notifications/NotificationsMenu"],(function(t,i,e,o,n){"use strict";function r(t){r.superclass.constructor.apply(this,arguments)}return r.DEFAULT_MAX_NOTIFICATIONS=5,i.Object.createSubclass(r,n,"HorizontalNotificationsMenu"),r.prototype.InitializeUniqueIds=function(){r.superclass.InitializeUniqueIds.call(this),this.notificationsListId=e.UIShell.generateUniqueId(),this.notificationMenuButtonSetId=e.UIShell.generateUniqueId()},r.prototype.GetMenuState=function(){return o.getPopupMenuState()},r.prototype.GetNotificationListHeight=function(){this.filterTabToggle(),this.Filter.selectedNotificationTypes(),this.Filter.selectedSeverities();var i=t("div.jraf-horizontal-notifications-menu"),e=t(".jraf-global-navigation-bar-menu").css("max-height").replace(/[\D]*/g,""),o=0;return i.siblings().not(".oj-helper-module-cache").each((function(){o+=t(this).outerHeight(!0)})),e-o+"px"},r.prototype.GetNotificationDisplayLimit=function(){return r.DEFAULT_MAX_NOTIFICATIONS},r.prototype.GetNotifications=function(){var t=this.Filter.getFilterCriteria();return this.Filter.persistCriteria(),this.NotificationsService.getNotifications(t())},r.prototype.CloseMenu=function(){o.closePopupMenu()},r}));