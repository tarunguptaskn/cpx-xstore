define(["knockout","ojs/ojcore","jraf/models/Content","jraf/models/UIShellManager","jraf/utils/ValidationUtils","jraf/utils/ParseUtils","ojs/ojbutton"],(function(e,t,a,i,r,p){"use strict";var n=t.Translations.getTranslatedString;function o(t){var a=this;if(!r.isObjectStrict(t)||!r.isArray(t.topics)&&!e.isObservable(t.topics))throw new TypeError("HelpTiles: Invalid parameters");this._initTypes(),this.topics=e.observableArray([]),this._data=t.topics,this._parseData(e.unwrap(this._data)),e.isObservable(this._data)&&this._data.subscribe((function(e){a._parseData(e)}))}return o.MAX_TILE_DESCRIPTION_CHARS=500,o.HELP_TYPE_DOCUMENT="document",o.HELP_TYPE_VIDEO="video",o.VIDEO_ICON="jraf-help-tile-video-icon",o.DOC_ICON="jraf-help-tile-document-icon",o.COLORS={lightblue:"42ADEB",red:"E95A38",lightgreen:"76C66E",purple:"9A66AF",blue:"6296CE",grey:"92A0AD",orange:"F09543",turquiose:"22B5BD",green:"67B460"},o.DEFAULT_COLOR=o.COLORS.lightblue,o.prototype._initTypes=function(){this._typeIconMap={},this._typeIconMap[o.HELP_TYPE_DOCUMENT]=o.DOC_ICON,this._typeIconMap[o.HELP_TYPE_VIDEO]=o.VIDEO_ICON,this._typeLabelMap={},this._typeLabelMap[o.HELP_TYPE_DOCUMENT]=n("jraf.appframe.documentHelpLaunchLabel"),this._typeLabelMap[o.HELP_TYPE_VIDEO]=n("jraf.appframe.videoHelpLaunchLabel")},o.prototype._parseData=function(e){for(var a=[],i=0;i<e.length;i++){var r=e[i];void 0!==this._typeIconMap[r.type]?a.push({name:r.name,description:p.getTruncatedString(r.description,o.MAX_TILE_DESCRIPTION_CHARS),url:r.url,imageSrc:r.imageSrc,type:r.type,typeIconClass:this._typeIconMap[r.type],typeLabel:this._typeLabelMap[r.type],color:"#"+(o.COLORS[r.color]||o.DEFAULT_COLOR)}):t.Logger.warn("HelpTiles._parseData: Invalid type for entry with name "+r.name)}this.topics(a)},o.prototype.handleTileSelect=function(e){var t=a.completeContent({title:e.name,url:e.url,targetProperties:{targetType:a.CONTENT_TARGET_WINDOW}});i.openContent(t)},o}));