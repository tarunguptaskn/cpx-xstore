define(["knockout","ojs/ojlogger","jraf/composites/utils/TranslationLoaderUtil","module","ojs/ojbutton"],(function(e,t,i,o){"use strict";function n(e){var i=this;this.J=n.y.getTranslations(),this.M(e),this.N=this.J.then((function(e){i.yi(e),t.info("oj-rgbu-jraf-help-tile: component initialized.")}))}return n.y=new i("oj-rgbu-jraf-help-tile",o.id),n.MAX_TILE_DESCRIPTION_CHARS=500,n.HELP_TYPE_DOCUMENT="document",n.HELP_TYPE_VIDEO="video",n.VIDEO_ICON="oj-rgbu-jraf-help-tile-video-icon",n.DOC_ICON="oj-rgbu-jraf-help-tile-document-icon",n.DEFAULT_COLOR=(n.COLORS={lightblue:"42ADEB",red:"E95A38",lightgreen:"76C66E",purple:"9A66AF",blue:"6296CE",grey:"92A0AD",orange:"F09543",turquiose:"22B5BD",green:"67B460"}).lightblue,n.BLANK_TARGET_WINDOW="_blank",n.prototype.activated=function(){return this.N},n.prototype.propertyChanged=function(e){var t=e.property;"external"===e.updatedFrom&&"topics"===t&&this.te(e.value)},n.prototype.M=function(t){this.documentHelpLaunchLabel=e.observable(),this.videoHelpLaunchLabel=e.observable(),this.ie(),this.topics=e.observableArray([]),this.ee=t.properties.topics,this.te(this.ee)},n.prototype.yi=function(e){this.documentHelpLaunchLabel(e.documentHelpLaunchLabel),this.videoHelpLaunchLabel(e.videoHelpLaunchLabel)},n.prototype.ie=function(){this.ne={},this.ne[n.HELP_TYPE_DOCUMENT]=n.DOC_ICON,this.ne[n.HELP_TYPE_VIDEO]=n.VIDEO_ICON,this.oe={},this.oe[n.HELP_TYPE_DOCUMENT]=this.documentHelpLaunchLabel,this.oe[n.HELP_TYPE_VIDEO]=this.videoHelpLaunchLabel},n.prototype.te=function(e){for(var i=[],o=0;o<e.length;o++){var r=e[o];void 0!==this.ne[r.type]?i.push({name:r.name,description:n.se(r.description,n.MAX_TILE_DESCRIPTION_CHARS),url:r.url,imageSrc:r.imageSrc,type:r.type,typeIconClass:this.ne[r.type],typeLabel:this.oe[r.type],color:"#"+(n.COLORS[r.color]||n.DEFAULT_COLOR)}):t.warn("HelpTiles._parseData: Invalid type for entry with name "+r.name)}this.topics(i)},n.prototype.handleTileSelect=function(e,t){window.open(t.data.url,n.BLANK_TARGET_WINDOW)},n.se=function(e,t){return e.length<=t?e:e.slice(0,t-3)+"â€¦"},n}));