define(["ojs/ojcore","knockout","jraf/utils/ValidationUtils"],(function(r,i,t){"use strict";var a=r.Translations.getTranslatedString;function n(r){if(!t.isObjectStrict(r)||!t.isArray(i.unwrap(r.metricData)))throw new TypeError("MetricComparison: Invalid input parameters.");var a=i.unwrap(r.metricData);this.singleMetric=1===a.length,this.maxMetricCount=a.length>=n.MAXIMUM_METRIC_COUNT,this.metricData=[];for(var I=this.maxMetricCount?n.MAXIMUM_METRIC_COUNT:a.length,e=0;e<I;e++){var o=a[e],T=this.rr(o);this.metricData.push({name:o.name,value:o.value,indicatorIcon:T.icon,indicatorLabel:T.label})}}return n.INDICATOR_TYPE_NO_SEVERITY="none",n.INDICATOR_TYPE_NORMAL="low",n.INDICATOR_TYPE_IMPORTANT="medium",n.INDICATOR_TYPE_CRITICAL="high",n.INDICATOR_TYPE_ADMIN="admin",n.INDICATOR_TYPE_DISABLED="disabled",n.INDICATOR_DIRECTION_UP="up",n.INDICATOR_DIRECTION_DOWN="down",n.MAXIMUM_METRIC_COUNT=2,n.prototype.rr=function(r){var a=i.unwrap(r.indicatorIcon),I=i.unwrap(r.indicatorLabel);if(t.isNonemptyString(a))return{icon:a,label:I};var e,o=i.unwrap(r.indicatorDirection);if(o!==n.INDICATOR_DIRECTION_UP&&o!==n.INDICATOR_DIRECTION_DOWN)return{};switch(i.unwrap(r.indicatorType)){case n.INDICATOR_TYPE_ADMIN:e="admin";break;case n.INDICATOR_TYPE_CRITICAL:e="critical";break;case n.INDICATOR_TYPE_IMPORTANT:e="important";break;case n.INDICATOR_TYPE_NORMAL:e="normal";break;case n.INDICATOR_TYPE_NO_SEVERITY:e="noseverity";break;case n.INDICATOR_TYPE_DISABLED:e="disabled"}return e?{icon:this.ir(o,e),label:this.or(o,e)}:{}},n.prototype.ir=function(r,i){return"jraf-"+i+"-arrow-"+r},n.prototype.or=function(r,i){return a("jraf.infotile.metricComparison."+(r===n.INDICATOR_DIRECTION_UP?"upArrow":"downArrow")+"."+i)},n}));