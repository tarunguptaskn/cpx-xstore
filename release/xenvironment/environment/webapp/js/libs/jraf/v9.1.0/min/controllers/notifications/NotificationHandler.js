define(["ojs/ojcore","jraf/services/ServiceManager","jraf/models/Content","jraf/models/UIShellManager","jraf/utils/ValidationUtils"],(function(e,t,n,i,o){"use strict";function r(e){if(!o.isObjectStrict(e)||!o.isNonemptyString(e.serviceKey))throw new TypeError("NotificationHandler: Missing required serviceKey property");this.pe=t.getService(e.serviceKey),o.isFunction(e.openContextHandler)&&(this.He=e.openContextHandler)}return r.prototype.getNotificationsService=function(){return this.pe},r.prototype.openContext=function(e){if(!o.isNumberStrict(e))throw new TypeError("NotificationHandler.openContext: A numeric notificationId is required.");return this.He(e)},r.prototype.He=function(t){return this.pe.getNotificationContext(t).then((function(e){var t=n.completeContent(e);if(!t)return Promise.reject("NotificationHandler._openContextHandler: Notification does not have a valid context.");i.openContent(t)}),(function(t){return e.Logger.warn("NotificationHandler._openContextHandler: Failed to load notification context: \n",t),Promise.reject(t)}))},r}));