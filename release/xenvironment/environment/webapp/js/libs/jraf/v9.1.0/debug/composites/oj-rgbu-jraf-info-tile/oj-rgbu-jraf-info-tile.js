define(["knockout","jquery","jraf/composites/utils/TranslationLoaderUtil","module","jqueryui-amd/core"],(function(e,i,t,l){"use strict";function n(e){var i=this;this._loadingTranslations=n._translationLoader.getTranslations(),this._initializeProperties(e),this.handleTileKeydown=function(e){return i._handleTileKeydownEvent(e)},this.handleTileSelection=function(){i._handleTileSelectionEvent()},this.componentInitializing=this._loadingTranslations.then((function(e){i._initializeTranslations(e)}))}return n._translationLoader=new t("oj-rgbu-jraf-info-tile",l.id),n.prototype.activated=function(){return this.componentInitializing},n.prototype.propertyChanged=function(e){var i=e.property;"external"!==e.updatedFrom||"infoTitle"!==i&&"label"!==i&&"metricLabel"!==i&&"metric"!==i&&"severity"!==i&&"selected"!==i&&"disabled"!==i||this[i](e.value)},n.prototype._initializeProperties=function(i){this.tileSelectionIndicatorAriaLabel=e.observable(),this.adminTileLabel=e.observable(),this.criticalSeverityLabel=e.observable(),this.importantSeverityLabel=e.observable(),this.normalSeverityTile=e.observable(),this.noSeverityLabel=e.observable(),this.tileIndicatorLabel=e.pureComputed((function(){return this._getTileIndicatorLabel()}),this);var t=i.properties;this.tileId=t.tileId,this.type=t.type,this.infoTitle=e.observable(t.infoTitle),this.label=e.observable(t.label),this.severity=e.observable(t.severity),this.metric=e.observable(t.metric),this.metricLabel=e.observable(t.metricLabel),this.disabled=e.observable(t.disabled),this.selected=e.observable(t.selected),this.tileSelectionHandler=t.tileSelectionHandler,this.displaySlot=i.slotCounts.customBody>0},n.prototype._handleTileSelectionEvent=function(){this.disabled()||this.tileSelectionHandler&&this.tileSelectionHandler(this.tileId)},n.prototype._isEnterKey=function(e){if(!this._isObjectStrict(e))return!1;var t=e.key||e.keyIdentifier;return t?"Enter"===t:e.keyCode===i.ui.keyCode.ENTER},n.prototype._isObjectStrict=function(e){return e&&"object"==typeof e&&!Array.isArray(e)},n.prototype._handleTileKeydownEvent=function(e){return this._isEnterKey(e)&&this._handleTileSelectionEvent(),!0},n.prototype._initializeTranslations=function(e){this.tileSelectionIndicatorAriaLabel(e.tileSelectionIndicatorAriaLabel),this.adminTileLabel(e.adminTileLabel),this.criticalSeverityLabel(e.criticalSeverityLabel),this.importantSeverityLabel(e.importantSeverityLabel),this.normalSeverityTile(e.normalSeverityTile),this.noSeverityLabel(e.noSeverityLabel)},n.prototype._getTileIndicatorLabel=function(){var e=this.severity();return"admin"===this.type?this.adminTileLabel():"high"===e?this.criticalSeverityLabel():"medium"===e?this.importantSeverityLabel():"low"===e?this.normalSeverityTile():this.noSeverityLabel()},n}));