define(["ojs/ojcore","jquery","knockout","jraf/utils/ValidationUtils","jraf/models/Content"],(function(e,n,t,i,o){"use strict";var r=e.Translations.getTranslatedString;function d(e){if(!(i.isObjectStrict(e)&&i.isNonemptyString(e.id)&&i.isNonemptyString(e.iconLabel)&&i.isNonemptyString(e.icon)&&i.isNonemptyString(e.selectedIcon)))throw new TypeError("NavigationMenuItem: Missing required properties.");var n=i.isObjectStrict(e.content);if(!(n||i.isObjectStrict(e.moduleBinding)||i.isObjectStrict(e.sidebarMenuModuleBinding)||i.isObjectStrict(e.horizontalMenuModuleBinding)))throw new TypeError("NavigationMenuItem: Invalid properties. Missing content, sidebarMenuModuleBinding, or horizontalMenuModuleBinding.");this.id=e.id,this.iconLabel=e.iconLabel,this.icon=e.icon,this.selectedIcon=e.selectedIcon,this.badgingEnabled="boolean"==typeof e.badgingEnabled&&e.badgingEnabled,e.badgeValue&&this._initBadging(e.badgeValue),this.content=n?new o(e.content):null,this.moduleBinding=this._extendModuleBindingWithCacheKey(e.moduleBinding),this.sidebarMenuModuleBinding=this._extendModuleBindingWithCacheKey(e.sidebarMenuModuleBinding),this.horizontalMenuModuleBinding=this._extendModuleBindingWithCacheKey(e.horizontalMenuModuleBinding)}return d.prototype._extendModuleBindingWithCacheKey=function(e){return null===this.content&&i.isObjectStrict(e)?n.extend({cacheKey:this.id},e):null},d.prototype._initBadging=function(e){"function"!=typeof e||t.isObservable(e)?this.badgeValue=e:this._initBadgeValueRefreshFunction(e)},d.prototype._initBadgeValueRefreshFunction=function(e){var n=this;this.badgeValue=t.observable(0),this.badgeValueRefresh=function(){var t=e();t.then?t.then((function(e){n.badgeValue(e)})):n.badgeValue(t)}},d.prototype.getId=function(){return this.id},d.prototype.getIconLabel=function(){return r(this.iconLabel)},d.prototype.getIcon=function(e){return"boolean"!=typeof e&&(e=!1),e?this.selectedIcon:this.icon},d.prototype.getDefaultIcon=function(){return this.getIcon(!1)},d.prototype.getSelectedIcon=function(){return this.getIcon(!0)},d.prototype.isBadgingEnabled=function(){return this.badgingEnabled},d.prototype.getBadgeValue=function(){return this.badgeValue},d.prototype.getBadgeValueRefresh=function(){return this.badgeValueRefresh},d.prototype.hasContent=function(){return this.content instanceof o},d.prototype.getContent=function(){return this.content},d.prototype.getModuleBinding=function(){return this.moduleBinding},d.prototype.getSidebarMenuModuleBinding=function(){return null===this.sidebarMenuModuleBinding?this.moduleBinding:this.sidebarMenuModuleBinding},d.prototype.getHorizontalMenuModuleBinding=function(){return this.horizontalMenuModuleBinding},d}));