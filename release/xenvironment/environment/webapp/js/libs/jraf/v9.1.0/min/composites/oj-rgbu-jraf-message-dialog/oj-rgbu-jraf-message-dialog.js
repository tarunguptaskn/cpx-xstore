define(["jraf/utils/ValidationUtils","jraf/composites/utils/TranslationLoaderUtil","module","ojs/ojbutton","ojs/ojdialog"],(function(t,n,o){"use strict";function i(t){var n=this,o=t.uniqueId;this.dialogId=o+"_dialog",this.dialogHeaderId=o+"_dialogHeader",this.loadingTranslations=i.y.getTranslations(),this.handleBeforeClose=function(t,o){return n.kn(t,o)},this.handleClose=function(t,o){n.Hn(t,o)},this.componentInitializing=Promise.all([this.loadingTranslations,t.properties]).then((function(t){n.translations=t[0],n.M(t[1])}))}return i.LEVEL_INFO="info",i.LEVEL_WARNING="warning",i.LEVEL_ERROR="error",i.LEVEL_CONFIRMATION="confirmation",i.TYPE_OK="ok",i.TYPE_OK_CANCEL="okCancel",i.TYPE_YES_NO="yesNo",i.TYPE_CUSTOM="custom",i.y=new n("oj-rgbu-jraf-message-dialog",o.id),i.prototype.activated=function(){return this.componentInitializing},i.prototype.kn=function(n,o){if(t.isFunction(this.beforeCloseHandler))return this.beforeCloseHandler(n,o)},i.prototype.Hn=function(n,o){t.isFunction(this.closeHandler)&&this.closeHandler(n,o)},i.prototype.open=function(){var t=this;this.componentInitializing.then((function(){document.getElementById(t.dialogId).open()}))},i.prototype.close=function(){var t=this;this.componentInitializing.then((function(){document.getElementById(t.dialogId).close()}))},i.prototype.M=function(t){var n=t.level;this.headerIcon=this.Ln(n),this.headerText=this.Un(n),this.modality=this._n(t.modeless),this.footerButtons=this.pn(t),this.beforeCloseHandler=t.beforeCloseHandler,this.closeHandler=t.closeHandler},i.prototype.Ln=function(t){return"oj-rgbu-jraf-message-dialog-icon "+(t===i.LEVEL_CONFIRMATION?"oj-rgbu-jraf-message-dialog-confirmation-icon":t===i.LEVEL_ERROR?"oj-rgbu-jraf-message-dialog-error-icon":t===i.LEVEL_WARNING?"oj-rgbu-jraf-message-dialog-warning-icon":"oj-rgbu-jraf-message-dialog-info-icon")},i.prototype._n=function(t){return t?"modeless":"modal"},i.prototype.Un=function(t){return t===i.LEVEL_CONFIRMATION?this.translations.confirmation:t===i.LEVEL_ERROR?this.translations.error:t===i.LEVEL_WARNING?this.translations.warning:this.translations.information},i.prototype.pn=function(n){var o=[],e=n.type;return(e===i.TYPE_OK_CANCEL||e===i.TYPE_YES_NO||e===i.TYPE_CUSTOM&&t.isNonemptyString(n.customCancelButtonLabel))&&o.push(this.Cn(n)),(e!==i.TYPE_CUSTOM||t.isNonemptyString(n.customOkButtonLabel))&&o.push(this.Nn(n)),o},i.prototype.Pn=function(t){return t.type===i.TYPE_OK_CANCEL?this.translations.cancel:t.type===i.TYPE_YES_NO?this.translations.no:t.customCancelButtonLabel},i.prototype.Vn=function(t){return t.type===i.TYPE_OK||t.type===i.TYPE_OK_CANCEL?this.translations.ok:t.type===i.TYPE_YES_NO?this.translations.yes:t.customOkButtonLabel},i.prototype.Cn=function(t){return this.qn(this.Pn(t),t.cancelAction)},i.prototype.Nn=function(t){return this.qn(this.Vn(t),t.okAction)},i.prototype.qn=function(n,o){if(!t.isFunction(o)){var i=this;o=function(){i.close()}}return{buttonLabel:n,buttonHandler:o}},i}));