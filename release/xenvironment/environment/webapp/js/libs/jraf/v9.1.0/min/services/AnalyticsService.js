define(["jquery","jraf/jrafcore","jraf/utils/ValidationUtils","jraf/services/ServiceManager"],(function(i,n,e){"use strict";function t(i){if(!e.isNonemptyString(i))throw new TypeError("AnalyticsService: Missing or invalid API key.");this.yc=i}return t.DEFAULT_ENVIRONMENT="orcl",t.prototype.loadAgent=function(){window.pendo||this.jc()},t.prototype.jc=function(){var i;i=this.yc,function(n,e,t,o,r){var c,a,s,d,p;for((r=n[o]=n[o]||{}).Ac=[],a=0,s=(c=["initialize","identify","updateOptions","pageLoad"]).length;a<s;++a)!function(i){r[i]=r[i]||function(){r.Ac[i===c[0]?"unshift":"push"]([i].concat([].slice.call(arguments,0)))}}(c[a]);(d=e.createElement(t)).async=!0,d.src="https://cdn.pendo.io/agent/static/"+i+"/pendo.js",(p=e.getElementsByTagName(t)[0]).parentNode.insertBefore(d,p)}(window,document,"script","pendo")},t.prototype.initializeAgent=function(i,n){if(!window.pendo)throw new Error("AnalyticsService.initializeSession: Analytics agent (pendo) not loaded.");window.pendo.initialize({visitor:i,account:n})},t}));