define(["ojs/ojcore","knockout","jraf/utils/ValidationUtils"],(function(t,a,r){"use strict";var i=t.Translations.getTranslatedString;function n(t){if(!r.isObjectStrict(t)||!r.isArray(a.unwrap(t.metricData)))throw new TypeError("MetricComparison: Invalid input parameters.");var i=a.unwrap(t.metricData);this.singleMetric=1===i.length,this.maxMetricCount=i.length>=n.MAXIMUM_METRIC_COUNT,this.metricData=[];for(var I=this.maxMetricCount?n.MAXIMUM_METRIC_COUNT:i.length,e=0;e<I;e++){var o=i[e],c=this._getIndicatorIconData(o);this.metricData.push({name:o.name,value:o.value,indicatorIcon:c.icon,indicatorLabel:c.label})}}return n.INDICATOR_TYPE_NO_SEVERITY="none",n.INDICATOR_TYPE_NORMAL="low",n.INDICATOR_TYPE_IMPORTANT="medium",n.INDICATOR_TYPE_CRITICAL="high",n.INDICATOR_TYPE_ADMIN="admin",n.INDICATOR_TYPE_DISABLED="disabled",n.INDICATOR_DIRECTION_UP="up",n.INDICATOR_DIRECTION_DOWN="down",n.MAXIMUM_METRIC_COUNT=2,n.prototype._getIndicatorIconData=function(t){var i=a.unwrap(t.indicatorIcon),I=a.unwrap(t.indicatorLabel);if(r.isNonemptyString(i))return{icon:i,label:I};var e,o=a.unwrap(t.indicatorDirection);if(o!==n.INDICATOR_DIRECTION_UP&&o!==n.INDICATOR_DIRECTION_DOWN)return{};switch(a.unwrap(t.indicatorType)){case n.INDICATOR_TYPE_ADMIN:e="admin";break;case n.INDICATOR_TYPE_CRITICAL:e="critical";break;case n.INDICATOR_TYPE_IMPORTANT:e="important";break;case n.INDICATOR_TYPE_NORMAL:e="normal";break;case n.INDICATOR_TYPE_NO_SEVERITY:e="noseverity";break;case n.INDICATOR_TYPE_DISABLED:e="disabled"}return e?{icon:this._getIndicatorIconClass(o,e),label:this._getIndicatorIconLabel(o,e)}:{}},n.prototype._getIndicatorIconClass=function(t,a){return"jraf-"+a+"-arrow-"+t},n.prototype._getIndicatorIconLabel=function(t,a){var r=t===n.INDICATOR_DIRECTION_UP?"upArrow":"downArrow";return i("jraf.infotile.metricComparison."+r+"."+a)},n}));