define(["ojs/ojcore","knockout","jquery","jraf/jrafcore","jraf/models/UIShellManager","jraf/models/TabManager","jraf/models/RegionManager","jraf/utils/ValidationUtils","ojs/ojarraydataprovider","ojs/ojknockout","ojs/ojcomposite","ojs/ojmenu","jraf/composites/oj-rgbu-jraf-message-dialog/loader","jraf/composites/oj-rgbu-jraf-toaster/loader","jraf/composites/oj-rgbu-jraf-apps-module/loader","ojs/ojconveyorbelt","ojs/ojnavigationlist","ojs/ojswitcher"],(function(e,a,t,o,n,r,i,l,s){"use strict";u.TAB_MANAGER_MAX_TAB_COUNT=15;var d=e.Translations.getTranslatedString;function u(t){var n=this;if(e.Logger.info("UIShellGlobalMainArea: Entering."),!l.isObjectStrict(t)||!l.isBoolean(t.useCustomContentArea))throw new TypeError("UIShellGlobalMainArea: Invalid params.");if(this.toasterId=o.UIShell.generateUniqueId(),this.beforeLoadModuleHandler=t.beforeLoadModuleHandler,this.afterUnloadModuleHandler=t.afterUnloadModuleHandler,this.useCustomContentArea=t.useCustomContentArea,this.useCustomContentArea)return this.customContentAreaModalPageContainerId=o.UIShell.generateUniqueId(),this.customContentAreaModuleBinding=a.observable(t.customContentAreaModuleBinding||null),void(this.customContentAreaModuleOptions=a.observable(t.customContentAreaModuleOptions||null));this.tabBarComponentId=o.UIShell.generateUniqueId(),this.tabContextMenuId=o.UIShell.generateUniqueId(),this.switcherComponentId=o.UIShell.generateUniqueId(),this.conveyorComponentId=o.UIShell.generateUniqueId(),this.globalTabBarAriaLabel=d("jraf.global.globalTabBarAriaLabel"),this.tabsData=a.observableArray([]),this.tabsDatasource=new s(this.tabsData,{keyAttributes:"tabId"}),this.maxTabsDialogId=o.UIShell.generateUniqueId(),this.maximumTabsMessage=d("jraf.messages.maximumTabsMessage",{maxTabCount:u.TAB_MANAGER_MAX_TAB_COUNT}),this.activeTab=a.observable(null),this.handleTabContextBeforeOpen=function(e){if(e.detail&&e.detail.openOptions&&e.detail.openOptions.launcher){var a=e.detail.openOptions.launcher.get(0);if(!n.$l.isTabRemovable(a.id))return e.preventDefault(),!1}},this.handleSnackbarStatus=function(e,a){n.$l.handleSnackbarStatus(e,a)}}return u.prototype.connected=function(){if(e.Logger.info("UIShellGlobalMainArea.handleBindingsApplied: Entering."),this.useCustomContentArea){e.Logger.info("UIShellGlobalMainArea.handleBindingsApplied: Creating RegionManager.");var a=new i({modalPageContainerId:this.customContentAreaModalPageContainerId,activeModuleBinding:this.customContentAreaModuleBinding,activeModuleOptions:this.customContentAreaModuleOptions,beforeLoadModuleHandler:this.beforeLoadModuleHandler,afterUnloadModuleHandler:this.afterUnloadModuleHandler});n.RegisterRegionManager(a)}else e.Logger.info("UIShellGlobalMainArea.handleBindingsApplied: Creating TabManager."),this.$l=new r({tabBarComponentId:this.tabBarComponentId,switcherComponentId:this.switcherComponentId,maxTabsDialogId:this.maxTabsDialogId,maxTabCount:u.TAB_MANAGER_MAX_TAB_COUNT,activeTab:this.activeTab,tabsData:this.tabsData,beforeLoadModuleHandler:this.beforeLoadModuleHandler,afterUnloadModuleHandler:this.afterUnloadModuleHandler}),n.RegisterTabManager(this.$l);n.RegisterGlobalToasterId(this.toasterId)},u}));