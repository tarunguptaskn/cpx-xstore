define(["ojs/ojcore","jquery","knockout","jraf/utils/ValidationUtils","jraf/models/Content"],(function(t,n,e,i,o){"use strict";var r=t.Translations.getTranslatedString;function u(t){if(!(i.isObjectStrict(t)&&i.isNonemptyString(t.id)&&i.isNonemptyString(t.iconLabel)&&i.isNonemptyString(t.icon)&&i.isNonemptyString(t.selectedIcon)))throw new TypeError("NavigationMenuItem: Missing required properties.");var n=i.isObjectStrict(t.content);if(!(n||i.isObjectStrict(t.moduleBinding)||i.isObjectStrict(t.sidebarMenuModuleBinding)||i.isObjectStrict(t.horizontalMenuModuleBinding)))throw new TypeError("NavigationMenuItem: Invalid properties. Missing content, sidebarMenuModuleBinding, or horizontalMenuModuleBinding.");this.id=t.id,this.iconLabel=t.iconLabel,this.icon=t.icon,this.selectedIcon=t.selectedIcon,this.badgingEnabled="boolean"==typeof t.badgingEnabled&&t.badgingEnabled,t.badgeValue&&this.vh(t.badgeValue),this.content=n?new o(t.content):null,this.moduleBinding=this.gh(t.moduleBinding),this.sidebarMenuModuleBinding=this.gh(t.sidebarMenuModuleBinding),this.horizontalMenuModuleBinding=this.gh(t.horizontalMenuModuleBinding)}return u.prototype.gh=function(t){return null===this.content&&i.isObjectStrict(t)?n.extend({cacheKey:this.id},t):null},u.prototype.vh=function(t){"function"!=typeof t||e.isObservable(t)?this.badgeValue=t:this.jh(t)},u.prototype.jh=function(t){var n=this;this.badgeValue=e.observable(0),this.badgeValueRefresh=function(){var e=t();e.then?e.then((function(t){n.badgeValue(t)})):n.badgeValue(e)}},u.prototype.getId=function(){return this.id},u.prototype.getIconLabel=function(){return r(this.iconLabel)},u.prototype.getIcon=function(t){return"boolean"!=typeof t&&(t=!1),t?this.selectedIcon:this.icon},u.prototype.getDefaultIcon=function(){return this.getIcon(!1)},u.prototype.getSelectedIcon=function(){return this.getIcon(!0)},u.prototype.isBadgingEnabled=function(){return this.badgingEnabled},u.prototype.getBadgeValue=function(){return this.badgeValue},u.prototype.getBadgeValueRefresh=function(){return this.badgeValueRefresh},u.prototype.hasContent=function(){return this.content instanceof o},u.prototype.getContent=function(){return this.content},u.prototype.getModuleBinding=function(){return this.moduleBinding},u.prototype.getSidebarMenuModuleBinding=function(){return null===this.sidebarMenuModuleBinding?this.moduleBinding:this.sidebarMenuModuleBinding},u.prototype.getHorizontalMenuModuleBinding=function(){return this.horizontalMenuModuleBinding},u}));