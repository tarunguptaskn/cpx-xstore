define(["jquery","ojs/ojcore","jraf/utils/UrlUtils","jraf/utils/ValidationUtils","jraf/services/AbstractService"],(function(t,e,i,r,a){"use strict";function p(t,e){if(p.superclass.constructor.apply(this,arguments),r.isObjectStrict(e)?(this._appCode=e.appCode,this._clientAppCode=e.clientAppCode):this._appCode=e,!r.isNonemptyString(this._appCode))throw new TypeError("AppNavigatorService: App code is required")}return p.SERVICE_URL_PATH="services/private/AppNavigator",p.SERVICE_VERSION_OVERRIDE=null,e.Object.createSubclass(p,a,"AppNavigatorService"),p.prototype._buildEndpoint=function(t){var e=this.BuildEndpoint(t,p.SERVICE_URL_PATH);return this._clientAppCode&&(e=i.injectQueryParameter(e,"clientAppCode",this._clientAppCode)),e},p.prototype.GetStandardHeaders=function(){var t=p.superclass.GetStandardHeaders.apply(this);return t["Accept-Version"]=p.SERVICE_VERSION_OVERRIDE||t["Accept-Version"],t},p.prototype.loadNavigation=function(){var i=this._buildEndpoint("?appCode="+this._appCode),a=t.ajax(i,{headers:this.GetStandardHeaders(),dataType:"json",xhrFields:{withCredentials:!0}});return this.ConvertAjaxPromise(a).then((function(t){return r.isObjectStrict(t)&&r.isArray(t.appNavigatorItems)?t.appNavigatorItems:(e.Logger.warn("AppNavigatorService.loadNavigation: Returned data not in expected format"),[])}))},p}));