define(["knockout","jraf/models/UIShellManager","jraf/jrafcore"],(function(e,n,t){return function(r){let o=this;o.menuItems=e.observableArray(JSON.parse(JSON.stringify(r.menuItems))),o.handleActivated=function(){let e=t.App.getAppDataProperty("xenvUserRoles");o.menuItems.remove((function(n){return-1===e.indexOf(n.requiredRole)}))};o.openPage=function(e){let t=e.currentTarget.id,r=(u=e.currentTarget.id,console.debug("Finding menu ID "+u),o.menuItems().filter((function(e){return e.module===u}))[0]).label;var u;console.log("Page title = "+r),n.openModuleAsTab(r,{name:t,id:t}),n.closePopupMenu()}}}));