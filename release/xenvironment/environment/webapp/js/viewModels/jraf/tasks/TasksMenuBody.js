define(["ojs/ojcore","jraf/utils/ValidationUtils","jraf/models/tasks/TasksListModel","ojs/ojnavigationlist"],(function(e,t,a){"use strict";var n=e.Translations.getTranslatedString;function s(e){var s=this;if(!(t.isObjectStrict(e)&&t.isNonemptyString(e.navListId)&&t.isNonemptyString(e.navListLabel)&&t.isFunction(e.openContentCallback)&&e.tasksModel instanceof a))throw new TypeError("TasksMenuBody: Missing required parameters");this.navListLabel=n(e.navListLabel),this.loadingText=n("jraf.messages.loading"),this.markFavoriteLabel=n("jraf.sidebar.favorites.markFavorite"),this.unmarkFavoriteLabel=n("jraf.sidebar.favorites.unmarkFavorite"),this.navListId=e.navListId,this._openContent=e.openContentCallback,this._tasksModel=e.tasksModel,this.menuData=this._tasksModel.getMenuData(),this.menuDataLoaded=this._tasksModel.getMenuDataLoaded(),this.favoritesEnabled=this._tasksModel.isFavoritesEnabled(),this.beforeExpand=function(e,t){return s._handleBeforeExpand(e,t)},this.beforeCollapse=function(e,t){return s._handleBeforeCollapse(e,t)},this.beforeSelect=function(e,t){return s._handleBeforeSelect(e,t)}}return s.prototype._handleBeforeExpand=function(t,a){return e.Logger.info("TasksMenuBody._handleBeforeExpand: Entering."),this._tasksModel.handleMenuBeforeExpand(t.detail.key)},s.prototype._handleBeforeCollapse=function(t,a){return e.Logger.info("TasksMenuBody._handleBeforeCollapse: Entering."),this._tasksModel.handleMenuBeforeCollapse(t.detail.key)},s.prototype._handleBeforeSelect=function(t,a){e.Logger.info("TasksMenuBody._handleBeforeSelect: Entering.");var n=t.detail.key,s=this._tasksModel.getUIContent(n);return!!s.isFolder()||(this._openContent(s),t.preventDefault(),!1)},s}));