define(["knockout","jquery","ojs/ojcore","jraf/jrafcore","jraf/models/UIShellManager","jraf/models/tasks/TasksListModel","jraf/utils/ValidationUtils"],(function(t,e,i,a,s,n,r){"use strict";function o(e){if(!r.isObjectStrict(e)||!r.isNonemptyString(e.navListLabel)||!r.isFunction(e.getTasks))throw new TypeError("HorizontalTasksMenu: Missing required param(s)");var i=this;this.navListId=a.UIShell.generateUniqueId(),this.tasksHeaderId=a.UIShell.generateUniqueId(),this._tasksModel=new n({getTasks:e.getTasks,taskId:e.taskId,favoritesEnabled:e.favoritesEnabled,favoritesType:e.favoritesType}),this.hierarchyDrillPath=this._tasksModel.getHierarchyDrillPath(),this.drilledNode=this._tasksModel.getDrilledNode(),this.drilledNodeLabel=t.pureComputed((function(){return this.drilledNode().label}),this),this.isHierarchyRoot=t.pureComputed((function(){return this.hierarchyDrillPath().length<1}),this),this.navigateUpHierarchy=function(){i._handleNavigateUpHierarchy()},this.tasksListBodyModule={name:"jraf/tasks/TasksMenuBody",params:{navListId:this.navListId,navListLabel:e.navListLabel,openContentCallback:function(t){i._openContent(t)},tasksModel:this._tasksModel}}}return o.prototype._handleNavigateUpHierarchy=function(){if(!this.isHierarchyRoot()){var t=this.hierarchyDrillPath();this._handleHierarchyNodeSelection(t[t.length-1].id)}},o.prototype._handleHierarchyNodeSelection=function(t){for(var e=this.hierarchyDrillPath(),i=e.length-1;i>=0;i--){var a=e[i];if(this._navigateBack(),t===a.id)break}},o.prototype._getNavList=function(){return e("#"+this.navListId)},o.prototype._navigateBack=function(){i.Logger.info("HorizontalTasksMenu._navigateBack: Entering."),this._getNavList().find(".oj-navigationlist-previous-link").click()},o.prototype._openContent=function(t){s.closePopupMenu(),s.openContent(t)},o}));